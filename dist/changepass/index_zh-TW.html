<form class="user-form" id="changepassfm" action="/api/auth/changepass"><h4 class="user-form-heading">修改密碼</h4><div class="alert alert-info" id="changepass_msg"><p>Hi,請輸入新舊密碼.新密碼旁邊鉤選可以顯示密碼.</p></div><div class="form-group"><label for="userOldPassword" class="sr-only">原密碼</label><input type="password" class="form-control" id="userOldPassword" name="oldpass" placeholder="原密碼" required pattern="(?=.*\d)(?=.*[a-zA-Z])\w{7,}" oninvalid="this.setCustomValidity('需要七位字符並至少壹位數字')" onchange="this.setCustomValidity('')"></div><div class="form-group"><div class="input-group"><input type="password" class="form-control" id="userPassword" name="newpass" placeholder="新密碼" required pattern="(?=.*\d)(?=.*[a-zA-Z])\w{7,}" oninvalid="this.setCustomValidity('需要七位字符並至少壹位數字')" onchange="this.setCustomValidity('')"> <span class="input-group-addon" title="顯示密碼"><input type="checkbox" aria-label="顯示密碼"></span></div></div><button type="submit" class="btn btn-lg btn-primary btn-block" data-loading-text="加載中...">確認</button></form><script language="javascript"><!--
	  (function(){
		var fm = $('#changepassfm');
		fm.userlogin({success:function() {		  
		  var msg = null;
		  var al = $('#changepass_msg');
		  al.addClass('alert-success');
		  msg = $.userMsg.changpass_success;
		  al.removeClass('alert-info');
		  $('p', al).html(msg);
		}});
		$('input[type=checkbox]', fm).click(function() {
		  var val = $(this).is(':checked');
		  if(val) {
		    $('#userPassword').attr('type', 'text');
		  } else {		  
		    $('#userPassword').attr('type', 'password');
		  }
		});
	  })();
	  --></script>